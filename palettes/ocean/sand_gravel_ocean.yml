id: SAND_GRAVEL_OCEAN
type: PALETTE

layers:
  - materials:
      - minecraft:gravel: 1
      - minecraft:sand: 1
    layers: 3
    sampler: &sampler
      dimensions: 2
      type: DOMAIN_WARP
      amplitude: 10
      warp:
        dimensions: 2
        type: LINEAR
        min: -1
        max: 0.2
        sampler:
          type: CELLULAR
          frequency: 0.08
      sampler:
        type: FBM
        octaves: 3
        sampler:
          type: OPEN_SIMPLEX_2
  - materials:
      - minecraft:gravel: 1
      - minecraft:sandstone: 1
    layers: 2
    sampler: *sampler
  - materials:
      - minecraft:stone: 1
      - minecraft:deepslate: 1
    layers: 1
    sampler:
      dimensions: 3
      type: EXPRESSION
      expression: |
        if(y > top, -1, 
        -y + top - (offset(x,y,z)+1)*5)
      variables:
        top: ${meta.yml:deepslate-top} + 10
      samplers:
        offset:
          dimensions: 3
          type: OPEN_SIMPLEX_2
          frequency: 0.08
